â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                                           â•‘
â•‘  ğŸ“‹ GUÃA PASO A PASO - Configurar Google Service Account                â•‘
â•‘                                                                           â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

EstÃ¡s en Google Cloud Console. Sigue estos pasos:

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
PASO 1: CREAR UN PROYECTO (si no tienes uno)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. En la parte superior, haz clic en el selector de proyecto
2. Click en "NUEVO PROYECTO"
3. Nombre del proyecto: "whatsapp-terrenos" (o el que prefieras)
4. Click en "CREAR"
5. Espera unos segundos y selecciona el proyecto

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
PASO 2: HABILITAR LAS APIs NECESARIAS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. En el menÃº lateral (â˜°), ve a: "APIs y servicios" â†’ "Biblioteca"
   
2. Busca y habilita estas 3 APIs (una por una):
   
   a) Google Docs API
      - Busca: "Google Docs API"
      - Click en el resultado
      - Click en "HABILITAR"
   
   b) Google Sheets API
      - Busca: "Google Sheets API"
      - Click en el resultado
      - Click en "HABILITAR"
   
   c) Google Calendar API
      - Busca: "Google Calendar API"
      - Click en el resultado
      - Click en "HABILITAR"

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
PASO 3: CREAR LA CUENTA DE SERVICIO (SERVICE ACCOUNT)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. En el menÃº lateral (â˜°), ve a: "APIs y servicios" â†’ "Credenciales"

2. Click en el botÃ³n "+ CREAR CREDENCIALES" (arriba)

3. Selecciona: "Cuenta de servicio"

4. Completa el formulario:
   - Nombre de la cuenta de servicio: "whatsapp-agent"
   - ID de la cuenta: (se genera automÃ¡ticamente)
   - DescripciÃ³n: "Agente WhatsApp con acceso a Docs, Sheets y Calendar"

5. Click en "CREAR Y CONTINUAR"

6. En "Otorgar acceso a esta cuenta de servicio", puedes:
   - Dejar en blanco o seleccionar "Editor" (opcional)
   - Click en "CONTINUAR"

7. En "Otorgar acceso a los usuarios":
   - Dejar en blanco
   - Click en "LISTO"

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
PASO 4: DESCARGAR EL ARCHIVO JSON DE CREDENCIALES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. En la lista de "Cuentas de servicio", busca la que acabas de crear

2. Click en el EMAIL de la cuenta de servicio
   (ejemplo: whatsapp-agent@tu-proyecto.iam.gserviceaccount.com)

3. Ve a la pestaÃ±a "CLAVES" (Keys)

4. Click en "AGREGAR CLAVE" â†’ "Crear clave nueva"

5. Selecciona formato: "JSON"

6. Click en "CREAR"

7. â¬‡ï¸ Se descargarÃ¡ automÃ¡ticamente un archivo JSON
   (ejemplo: tu-proyecto-123456-abcdef123456.json)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
PASO 5: COPIAR EL EMAIL DE LA CUENTA DE SERVICIO
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“§ IMPORTANTE: Copia el email de la cuenta de servicio que aparece en la lista.
   
   Se ve algo asÃ­:
   whatsapp-agent@tu-proyecto-123456.iam.gserviceaccount.com
   
   Lo necesitarÃ¡s para el siguiente paso.

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
PASO 6: GUARDAR EL ARCHIVO JSON EN EL PROYECTO
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. Busca el archivo JSON que se descargÃ³ (en tu carpeta de Descargas)

2. RenÃ³mbralo a: google-credentials.json

3. MuÃ©velo a la carpeta del proyecto:
   /home/josealfredo/whatsapp-terrenos-mcp/google-credentials.json

   Puedes hacerlo desde la terminal:
   
   # Si estÃ¡ en Descargas:
   mv ~/Downloads/tu-proyecto-*.json /home/josealfredo/whatsapp-terrenos-mcp/google-credentials.json

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
PASO 7: COMPARTIR TUS GOOGLE DOCS, SHEETS Y CALENDAR
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Ahora debes dar acceso a la cuenta de servicio a tus documentos:

A) GOOGLE DOCS (Base de conocimiento)
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   1. Abre: https://docs.google.com/document/d/1CWRkJNcsScJOK-NMxtxnUdpuxrYcqaru5qiu9rHzbbw
   2. Click en "Compartir" (esquina superior derecha)
   3. Pega el email de la cuenta de servicio
   4. Selecciona permiso: "Lector" (Viewer)
   5. Desmarca "Notificar a las personas"
   6. Click en "Compartir"

B) GOOGLE SHEETS (Formulario de clientes)
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   1. Abre: https://docs.google.com/spreadsheets/d/1-YTVjIqYO-m1XS_t_MRUlE7O4u_8WXKiZTQLh8BrhSE
   2. Click en "Compartir"
   3. Pega el email de la cuenta de servicio
   4. Selecciona permiso: "Editor" (Editor)
   5. Desmarca "Notificar a las personas"
   6. Click en "Compartir"

C) GOOGLE CALENDAR (Agendamiento de citas)
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   1. Abre: https://calendar.google.com
   2. En el panel izquierdo, busca tu calendario
   3. Click en los 3 puntos (â‹®) junto al nombre del calendario
   4. Click en "ConfiguraciÃ³n y uso compartido"
   5. Scroll hasta "Compartir con personas especÃ­ficas"
   6. Click en "+ Agregar personas"
   7. Pega el email de la cuenta de servicio
   8. Selecciona permiso: "Hacer cambios en eventos"
   9. Click en "Enviar"

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
PASO 8: VERIFICAR QUE TODO ESTÃ LISTO
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Ejecuta este comando para verificar que el archivo existe:

ls -lh google-credentials.json

DeberÃ­as ver algo como:
-rw-r--r-- 1 josealfredo josealfredo 2.3K Nov  9 12:00 google-credentials.json

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸš€ LISTO PARA INICIAR EL SERVIDOR
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Ahora sÃ­ puedes ejecutar:

npm run dev

El servidor se iniciarÃ¡ y:
âœ… CargarÃ¡ las credenciales de Google
âœ… ConectarÃ¡ con Google Docs, Sheets y Calendar
âœ… EstarÃ¡ listo para recibir mensajes de WhatsApp

Abre en tu navegador: http://localhost:3000

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Â¿TIENES EL ARCHIVO JSON YA DESCARGADO?

Si ya lo tienes descargado, dime y te ayudo a moverlo a la carpeta correcta.
Si aÃºn no lo has descargado, sigue los pasos 3 y 4 arriba.

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
